
## A

枚举中心位置即可。

## B

实际上就是求哪些点是重心。容易发现重心是个联通块，所以 $E[点数] = E[边数]+1$，而一条合格的边需要满足两边恰好有$k/2$个点。另外可以看出，如果 $k$是奇数，重心是唯一的。 

## C

先做了D没时间想C，不过和想象中的思路差不多。因为每个子树可以通过改变根的值以 $1$ 的成本将子树修改成任意值，所以只需要求出每个子树的最低成本以及对应的值即可。启发式合并优化。

## D

可以观察到，如果 $a[l]$ 在 $a[l+1,r]$ 出现，那么 $g(l,r) = g(l+1,r)$，所以事实上对于固定的 $r$，之前的 $g$ 值可以看成一系列的段，每段的值相等，且之后不论如何append新的值，都相等。于是可以用并查集维护。
然后就是考虑如何求矩形之和，这个需要用线段树维护截面上的sum以及历史上的sum。
